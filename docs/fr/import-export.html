<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Import &amp; Export · BuckleScript</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Import &amp; Export · BuckleScript"/><meta property="og:type" content="website"/><meta property="og:url" content="https://bucklescript.github.io/bucklescript/index.html"/><meta property="og:description" content="## Export"/><link rel="shortcut icon" href="/img/logos/bucklescript_small.svg"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://bucklescript.github.io/bucklescript/blog/atom.xml" title="BuckleScript Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://bucklescript.github.io/bucklescript/blog/feed.xml" title="BuckleScript Blog RSS Feed"/><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logos/bucklescript_small.svg"/><h2 class="headerTitle">BuckleScript</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/fr/installation.html" target="_self">Docs</a></li><li><a href="/docs/fr/playground.html" target="_self">Try</a></li><li><a href="/docs/fr/community.html" target="_self">Community</a></li><li><a href="/blog" target="_self">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/en">English</a></li><li><a href="/es-ES">Español</a></li><li><a href="/zh-CN">中文</a></li><li><a href="https://crowdin.com/project/bucklescript" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li><li><a href="https://github.com/bucklescript/bucklescript" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Interop</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Intro</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/what-why.html">What &amp; Why</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/new-project.html">New Project</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/concepts-overview.html">Concepts Overview</a></li></ul></div><div class="navGroup navGroupActive"><h3>Interop</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/interop-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/embed-raw-javascript.html">Embed Raw JavaScript</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/common-data-types.html">Common Data Types</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/intro-to-external.html">Intro to External</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/boolean.html">Boolean</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/bind-to-global-values.html">Bind to Global Values</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/null-undefined-option.html">Null, Undefined &amp; Option</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/object.html">Object</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/class.html">Class</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/function.html">Function</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/fr/import-export.html">Import &amp; Export</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/regular-expression.html">Regular Expression</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/exceptions.html">Exceptions</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/generate-converters-accessors.html">Generate Converters &amp; Helpers</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/nodejs-special-variables.html">NodeJS Special Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/interop-misc.html">Miscellaneous</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/typescript-support.html">TypeScript Support</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/browser-support-polyfills.html">Browser Support &amp; Polyfills</a></li></ul></div><div class="navGroup navGroupActive"><h3>Build System</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/build-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/build-configuration.html">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/interop-with-js-build-systems.html">Interop with JS Build System</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/build-performance.html">Performance</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/build-advanced.html">Advanced</a></li></ul></div><div class="navGroup navGroupActive"><h3>Standard Library</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/stdlib-overview.html">Overview</a></li></ul></div><div class="navGroup navGroupActive"><h3>Advanced</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/conditional-compilation.html">Conditional Compilation</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/extended-compiler-options.html">Extended Compiler Options</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/use-existing-ocaml-libraries.html">Use Existing OCaml Libraries</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/difference-from-native-ocaml.html">Difference from Native OCaml</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/compiler-architecture-principles.html">Compiler Architecture &amp; Principles</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/comparison-to-jsoo.html">Comparison to Js_of_ocaml</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/bucklescript/fr" target="_blank">Translate</a><h1>Import &amp; Export</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" name="export"></a><a href="#export" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Export</h2>
<p>BuckleScript allows compiling to:</p>
<ul>
<li>CommonJS (<code>require('myFile')</code>)</li>
<li>ES6 modules (<code>import * from 'myFile'</code>)</li>
<li>AMD (<code>define(['myFile'], ...)</code>)</li>
</ul>
<p>The output format is configurable in bsb, described in a later section. <!-- TODO: bsb link --></p>
<p>By default, every <code>let</code> binding is exported. If their values are safe to use on the JS side, you can directly require the generated JS file and use them (see the JS file itself!).</p>
<h3><a class="anchor" aria-hidden="true" name="export-an-es6-default-value"></a><a href="#export-an-es6-default-value" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Export an ES6 default value</h3>
<p>If your JS project is using ES6 modules, you're likely exporting &amp; importing some default values:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// student.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> name = <span class="hljs-string">"Al"</span>;
</code></pre>
<pre><code class="hljs css js"><span class="hljs-comment">// teacher.js</span>
<span class="hljs-keyword">import</span> studentName <span class="hljs-keyword">from</span> <span class="hljs-string">'student.js'</span>;
</code></pre>
<p>Technically, since a BuckleScript file maps to a module, there's no such thing as &quot;default&quot; export, only named ones. However, we've made an exception to support default module when you do the following:</p>
<pre><code class="hljs css ocaml"><span class="hljs-comment">(* FavoriteStudent.ml *)</span>
<span class="hljs-keyword">let</span> default = <span class="hljs-string">"Bob"</span>
</code></pre>
<!-- TODO: playground link on the result -->
<p>You can then require the default as normal JS side:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// teacher2.js</span>
<span class="hljs-keyword">import</span> studentName <span class="hljs-keyword">from</span> <span class="hljs-string">'FavoriteStudent.js'</span>;
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="import"></a><a href="#import" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Import</h2>
<p>Use <code>bs.module</code>. It's like a <code>bs.val</code> that accepts a string that's the module name or path.</p>
<pre><code class="hljs css ocaml"><span class="hljs-keyword">external</span> dirname: <span class="hljs-built_in">string</span> -&gt; <span class="hljs-built_in">string</span> = <span class="hljs-string">"dirname"</span> [@@bs.<span class="hljs-keyword">module</span> <span class="hljs-string">"path"</span>]
<span class="hljs-keyword">let</span> root = dirname <span class="hljs-string">"/User/chenglou"</span>
</code></pre>
<p>Reason syntax:</p>
<pre><code class="hljs css reason">[@bs.<span class="hljs-keyword">module</span> <span class="hljs-string">"path"</span>] <span class="hljs-keyword">external</span> dirname : <span class="hljs-built_in">string</span> =&gt; <span class="hljs-built_in">string</span> = <span class="hljs-string">"dirname"</span>;
<span class="hljs-keyword">let</span> root = dirname(<span class="hljs-string">"/User/chenglou"</span>);
</code></pre>
<p>Output:</p>
<pre><code class="hljs css js"><span class="hljs-keyword">var</span> Path = <span class="hljs-built_in">require</span>(<span class="hljs-string">"path"</span>);
<span class="hljs-keyword">var</span> root = Path.dirname(<span class="hljs-string">"/User/chenglou"</span>);
</code></pre>
<p><strong>Note</strong>: the string inside <code>bs.module</code> can be anything: <code>&quot;./src/myJsFile&quot;</code>, <code>&quot;@myNpmNamespace/myLib&quot;</code>, etc.</p>
<h3><a class="anchor" aria-hidden="true" name="import-a-default-value"></a><a href="#import-a-default-value" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Import a Default Value</h3>
<p>By omitting the payload to <code>bs.module</code>, you bind to the whole JS module:</p>
<pre><code class="hljs css ocaml"><span class="hljs-keyword">external</span> leftPad: <span class="hljs-built_in">string</span> -&gt; <span class="hljs-built_in">int</span> -&gt; <span class="hljs-built_in">string</span> = <span class="hljs-string">"./leftPad"</span> [@@bs.<span class="hljs-keyword">module</span>]
<span class="hljs-keyword">let</span> paddedResult = leftPad <span class="hljs-string">"hi"</span> <span class="hljs-number">5</span>
</code></pre>
<p>Reason syntax:</p>
<pre><code class="hljs css reason">[@bs.<span class="hljs-keyword">module</span>] <span class="hljs-keyword">external</span> leftPad : <span class="hljs-built_in">string</span> =&gt; <span class="hljs-built_in">int</span> =&gt; <span class="hljs-built_in">string</span> = <span class="hljs-string">"./leftPad"</span>;
<span class="hljs-keyword">let</span> paddedResult = leftPad(<span class="hljs-string">"hi"</span>, <span class="hljs-number">5</span>);
</code></pre>
<p>Output:</p>
<pre><code class="hljs css js"><span class="hljs-keyword">var</span> LeftPad = <span class="hljs-built_in">require</span>(<span class="hljs-string">"./leftPad"</span>);
<span class="hljs-keyword">var</span> paddedResult = LeftPad(<span class="hljs-string">"hi"</span>, <span class="hljs-number">5</span>);
</code></pre>
<h4><a class="anchor" aria-hidden="true" name="import-an-es6-default-value"></a><a href="#import-an-es6-default-value" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Import an ES6 Default Value</h4>
<p>This is a recurring question, so we'll answer it here. If your JS project is using ES6, you're likely using Babel to compile it to regular JavaScript. Babel's ES6 default export actually exports the default value under the name <code>default</code>. You'd bind to it like this:</p>
<pre><code class="hljs css ocaml"><span class="hljs-keyword">external</span> studentName: <span class="hljs-built_in">string</span> = <span class="hljs-string">"default"</span> [@@bs.<span class="hljs-keyword">module</span> <span class="hljs-string">"./student"</span>]
<span class="hljs-keyword">let</span> _ = <span class="hljs-type">Js</span>.log studentName
</code></pre>
<p>Reason syntax:</p>
<pre><code class="hljs css reason">[@<span class="hljs-keyword">bs.module </span><span class="hljs-string">"./student"</span>] <span class="hljs-keyword">external </span>studentName : string = <span class="hljs-string">"default"</span><span class="hljs-comment">;</span>
<span class="hljs-keyword">Js.log(studentName);
</span></code></pre>
<p>Output:</p>
<pre><code class="hljs css js"><span class="hljs-keyword">var</span> Student = <span class="hljs-built_in">require</span>(<span class="hljs-string">"./student"</span>);
<span class="hljs-built_in">console</span>.log(Student.default);
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="tips-tricks"></a><a href="#tips-tricks" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tips &amp; Tricks</h3>
<p>When the name you're using on the BS side matches the JS value you're binding to, you can use the empty string shorthand:</p>
<pre><code class="hljs css ocaml"><span class="hljs-keyword">external</span> dirname: <span class="hljs-built_in">string</span> -&gt; <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span> [@@bs.<span class="hljs-keyword">module</span> <span class="hljs-string">"path"</span>]
</code></pre>
<p>Reason syntax:</p>
<pre><code class="hljs css reason">[@bs.<span class="hljs-keyword">module</span> <span class="hljs-string">"path"</span>] <span class="hljs-keyword">external</span> dirname : <span class="hljs-built_in">string</span> =&gt; <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="function.html">← Function</a><a class="docs-next button" href="regular-expression.html">Regular Expression →</a></div></div></div></div><span><script src="/js/redirectBlog.js"></script><script src="/js/pjax-api.js"></script><script>window.foo = new Pjax({
          areas: [
            // try to use the first query.
            '.mainContainer, .docsNavContainer .toc .navWrapper',
            // fallback
            'body'
          ],
          link: '.docsNavContainer:not(.docsSliderActive) a',
          update: {
            script: false,
          }
        });
        var languagesMenuItemCopy = document.getElementById("languages-menu");
        languagesMenuItemCopy.addEventListener("click", function(e){
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        });</script></span></div><script type="text/javascript" src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: '0fd97db83891aa20810559812d9e69ac',
                indexName: 'bucklescript',
                inputSelector: '#search_input_react'
              });
            </script></body></html>